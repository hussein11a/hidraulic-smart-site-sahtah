<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />
    
    <!-- Performance optimizations -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    
    <!-- Critical resource preloads -->
    <link rel="preload" href="/lovable-uploads/53c7547b-fc11-4442-b5f6-798e6e1aa08f.png" as="image" fetchpriority="high">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" as="style">
    
    <!-- Security headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline' fonts.googleapis.com; font-src 'self' fonts.gstatic.com; img-src 'self' data: https:; script-src 'self' 'unsafe-inline'; connect-src 'self' https:">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <!-- Web app manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Theme colors -->
    <meta name="theme-color" content="#1e40af" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1e293b" media="(prefers-color-scheme: dark)">
    <title>سطحة هيدروليك السعودية - خدمة نقل السيارات 24 ساعة | أفضل سطحة في الرياض</title>
    
    <!-- Primary Meta Tags -->
    <meta name="title" content="سطحة هيدروليك السعودية - خدمة نقل السيارات 24 ساعة | أفضل سطحة في الرياض" />
    <meta name="description" content="خدمة سطحة هيدروليك احترافية في السعودية ⚡ نقل السيارات المعطلة والمساعدة على الطريق 24/7 🚛 أسرع وصول، أفضل أسعار، خدمة موثوقة في جميع أنحاء المملكة" />
    <meta name="keywords" content="سطحة هيدروليك، نقل سيارات، مساعدة طريق، سطحة سيارات، خدمة 24 ساعة، سطحة الرياض، نقل مركبات، إنقاذ سيارات، سطحة متنقلة، خدمة سطحة، سطحة السعودية، رقم سطحة، سطحة سريعة، سطحة رخيصة، سطحة موثوقة" />
    <meta name="author" content="سطحة هيدروليك السعودية" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=(), interest-cohort=()" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="سطحة هيدروليك السعودية" />
    <meta property="og:title" content="سطحة هيدروليك السعودية - خدمة نقل السيارات 24 ساعة | أفضل سطحة في الرياض" />
    <meta property="og:description" content="خدمة سطحة هيدروليك احترافية في السعودية ⚡ نقل السيارات المعطلة والمساعدة على الطريق 24/7 🚛 أسرع وصول، أفضل أسعار، خدمة موثوقة في جميع أنحاء المملكة" />
    <meta property="og:image" content="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=1200&h=630&fit=crop&crop=center&auto=format&q=80" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="سطحة هيدروليك تقوم بنقل سيارة معطلة في السعودية" />
    <meta property="og:url" content="https://your-domain.com/" />
    <meta property="og:locale" content="ar_SA" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@YourTwitterHandle" />
    <meta name="twitter:creator" content="@YourTwitterHandle" />
    <meta name="twitter:title" content="سطحة هيدروليك السعودية - خدمة نقل السيارات 24 ساعة" />
    <meta name="twitter:description" content="خدمة سطحة هيدروليك احترافية في السعودية ⚡ نقل السيارات المعطلة والمساعدة على الطريق 24/7 🚛" />
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=1200&h=630&fit=crop&crop=center&auto=format&q=80" />
    <meta name="twitter:image:alt" content="سطحة هيدروليك تقوم بنقل سيارة معطلة في السعودية" />
    
    <!-- WhatsApp -->
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:secure_url" content="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=1200&h=630&fit=crop&crop=center&auto=format&q=80" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://your-domain.com/" />
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#2563eb" />
    <meta name="msapplication-TileColor" content="#2563eb" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="سطحة هيدروليك" />
    <meta name="application-name" content="سطحة هيدروليك" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-touch-fullscreen" content="yes" />
    
    <!-- Favicon and Icons -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🚛</text></svg>" />
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🚛</text></svg>" />
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🚛</text></svg>" />
    <link rel="icon" type="image/png" sizes="16x16" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🚛</text></svg>" />
    
    <!-- Fonts with preload and enhanced performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" /></noscript>
    
    <!-- Enhanced DNS Prefetch -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//fonts.gstatic.com" />
    <link rel="dns-prefetch" href="//images.unsplash.com" />
    <link rel="dns-prefetch" href="//wa.me" />
    
    <!-- Critical CSS -->
    <style>
      /* Critical path CSS for immediate rendering */
      * {
        font-family: 'Tajawal', 'Segoe UI', system-ui, -apple-system, Arial, sans-serif;
        font-display: swap;
      }
      
      body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        scroll-behavior: smooth;
        text-rendering: optimizeLegibility;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        margin: 0;
        padding: 0;
      }
      
      /* Enhanced loading animation */
      .loading {
        display: inline-block;
        width: 24px;
        height: 24px;
        border: 3px solid #f3f4f6;
        border-radius: 50%;
        border-top-color: #3b82f6;
        animation: spin 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
      }
      
      @keyframes spin {
        to { transform: rotate(360deg); }
      }

      /* Optimized scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      
      ::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.05);
      }
      
      ::-webkit-scrollbar-thumb {
        background: linear-gradient(45deg, #3b82f6, #f59e0b);
        border-radius: 4px;
      }
      
      /* Enhanced focus indicators for accessibility */
      *:focus-visible {
        outline: 2px solid #f59e0b;
        outline-offset: 2px;
        border-radius: 4px;
      }
      
      /* Prevent layout shift */
      img, video {
        max-width: 100%;
        height: auto;
        content-visibility: auto;
      }
      
      /* Dark mode support */
      @media (prefers-color-scheme: dark) {
        body {
          background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
          color: #f8fafc;
        }
      }
      
      /* Reduced motion for accessibility */
      @media (prefers-reduced-motion: reduce) {
        *, *::before, *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }
    </style>
  </head>

  <body>
    <div id="root">
      <div style="display: flex; justify-content: center; align-items: center; height: 100vh; flex-direction: column; background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);">
        <div class="loading"></div>
        <p style="margin-top: 1rem; color: #6b7280; font-weight: 500;">جاري التحميل...</p>
      </div>
    </div>
    
    <!-- Enhanced Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(registration => {
              console.log('SW registered: ', registration);
            })
            .catch(registrationError => {
              console.log('SW registration failed: ', registrationError);
            });
        });
      }
    </script>
    
    <!-- Enhanced Security and Performance Script -->
    <script>
      (function() {
        'use strict';
        
        // Enhanced security measures
        const securityMeasures = {
          init() {
            this.disableDevTools();
            this.protectConsole();
            this.preventTextSelection();
            this.addWatermark();
          },
          
          disableDevTools() {
            document.addEventListener('keydown', (e) => {
              if (
                e.key === 'F12' ||
                (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'C' || e.key === 'J')) ||
                (e.ctrlKey && e.key === 'u')
              ) {
                e.preventDefault();
                return false;
              }
            });
          },
          
          protectConsole() {
            if (window.location.hostname !== 'localhost') {
              Object.defineProperty(console, 'log', { value: () => {} });
              Object.defineProperty(console, 'warn', { value: () => {} });
              Object.defineProperty(console, 'error', { value: () => {} });
              Object.defineProperty(console, 'info', { value: () => {} });
            }
          },
          
          preventTextSelection() {
            document.addEventListener('selectstart', (e) => e.preventDefault());
            document.addEventListener('contextmenu', (e) => e.preventDefault());
            document.addEventListener('dragstart', (e) => e.preventDefault());
          },
          
          addWatermark() {
            console.log('%c🔐 محتوى محمي', 'color: #ff0000; font-size: 20px; font-weight: bold;');
            console.log('%cهذا الموقع محمي بحقوق الطبع والنشر', 'color: #ff0000; font-size: 14px;');
          }
        };
        
        // Performance optimizations
        const performanceOptimizer = {
          init() {
            this.optimizeImages();
            this.preloadCriticalResources();
            this.monitorPerformance();
          },
          
          optimizeImages() {
            if ('IntersectionObserver' in window) {
              const imageObserver = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    const img = entry.target;
                    if (img.dataset.src) {
                      img.src = img.dataset.src;
                      img.removeAttribute('data-src');
                      imageObserver.unobserve(img);
                    }
                  }
                });
              });
              
              document.querySelectorAll('img[data-src]').forEach((img) => {
                imageObserver.observe(img);
              });
            }
          },
          
          preloadCriticalResources() {
            const criticalResources = [
              '/src/main.tsx',
              '/src/index.css'
            ];
            
            criticalResources.forEach(resource => {
              const link = document.createElement('link');
              link.rel = 'preload';
              link.href = resource;
              link.as = resource.endsWith('.tsx') ? 'script' : 'style';
              document.head.appendChild(link);
            });
          },
          
          monitorPerformance() {
            if ('PerformanceObserver' in window) {
              try {
                const observer = new PerformanceObserver((list) => {
                  for (const entry of list.getEntries()) {
                    if (entry.entryType === 'largest-contentful-paint') {
                      console.log('LCP:', entry.startTime);
                    }
                  }
                });
                observer.observe({ entryTypes: ['largest-contentful-paint'] });
              } catch (e) {
                console.log('Performance monitoring not supported');
              }
            }
          }
        };
        
        // Initialize on DOM ready
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', () => {
            securityMeasures.init();
            performanceOptimizer.init();
          });
        } else {
          securityMeasures.init();
          performanceOptimizer.init();
        }
      })();
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
